{"version":3,"sources":["scripts/app-a1caf71cea.js"],"names":["SolrQuery","this","importancy","points","age","filterQuery","facetQuery","fromDate","toDate","keywords","rows","angular","module","solrRequestFactory","$http","SolrRequest","start","siteState","loading","expanded","numFound","maxScore","news","results","documentIds","facets","solrQuery","prototype","setQuery","getLoading","moreToLoad","length","getExpanded","loadNews","self","method","url","params","getHttpRequestParamObject","then","result","data","response","docs","i","push","id","errorResponse","console","error","getResults","getFacets","nextPage","QueryService","ENV","searchEndpoint","items","indexOf","extend","reset","Instance","$inject","factory","setRows","setFilterQuery","name","filterQueries","getFilterQueries","getRows","objParams","q","getQueryString","getFilterQueryObject","facetting","getFacetQueryJson","queryString","filterQueryObject","filterQueryKeyInt","Date","toISOString","solrEscape","inputValue","match","replace","setFilterQueryFromArray","arrayValues","query1","forEach","value","keyword","type","addFilterQuery","prefix","postfix","date","undefined","override","vm","filter","JSON","stringify","addFacetTerms","field","limit","mincount","parent","domain","sort","facet","addFacetRange","end","gap","addFacetFunction","fieldName","functionName","removeFilterQueryByIndex","index","splice","getFilterQueryIndexFromString","string","setKeywords","getImportancy","resetQuery","acmeNavbar","NavbarController","directive","restrict","templateUrl","scope","creationDate","controller","controllerAs","bindToController","dateChart","ChartController","$scope","$filter","$timeout","loadChartDelayed","loadChartTimeout","cancel","loadChart","chartoptions","chart","height","width","x","d","key","y","showLabels","duration","labelThreshold","labelSunbeamLayout","showLegend","keywordsdata","addKeyword","word","keywordTypes","typeValue","blockParent","solrReq_1","topResults","count","chardata","frontpage","buckets","val_frontpage","val","chartdata","solrReq_2","topResults_non_fp","keywordsdata_non_fp","$watch","weekdayChart","dayNameToInt","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","intDayToStringDay","objKeyword","options","margin","top","right","bottom","left","multibar","dispatch","elementClick","e","$apply","useInteractiveGuideline","xAxis","tickValues","tickFormat","axisLabel","yAxis","d3","format","sortDescending","title","enable","text","subtitle","css","text-align","font-size","values","value_fp","template","sourceChart","jsonSources","parse","arrSourcesLabels","arrSourcesLinks","source_id","source_description","source_link","discretebar","found","rotateLabels","log","hoursPickupChart","reduceXTicks","bars1","stacked","yAxis1","yAxis2","on_frontpage","not_on_frontpage","Math","round","hoursChart","documentsPerPointsChart","lines","point","interactiveLayer","tooltip","contentGenerator","lowerNumber","series","documentsOnFrontpageChart","useVoronoi","clipEdge","showMaxMin","time","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","startDate","endDate","MainController","typeName","step","min","max","directivedata","examplePickupRate","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","moment","$logProvider","$mdThemingProvider","debugEnabled","theme","$templateCache","put"],"mappings":"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","file":"scripts/app-a1caf71cea.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ngMaterial','nvd3']);\n\n})();\n\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('newscombinatorKeywords')\r\n        .factory('SolrRequest', solrRequestFactory);\r\n\r\n    /** @ngInject */\r\n    function solrRequestFactory($http) {\r\n        function SolrRequest() {\r\n\r\n            this.start = 0;\r\n            this.siteState = {loading: false};\r\n            this.expanded = {};\r\n            this.numFound = 0;\r\n            this.maxScore = 0;\r\n\r\n            this.news = [];\r\n            this.results = [];\r\n            this.documentIds = [];\r\n            this.facets = {};\r\n\r\n            this.solrQuery = new SolrQuery();\r\n\r\n        }\r\n\r\n        SolrRequest.prototype.setQuery = function (solrQuery) {\r\n            if (!(solrQuery instanceof SolrQuery)) {\r\n                throw \"SolrRequest needs a SolrQuery!\";\r\n            }\r\n\r\n            this.solrQuery = solrQuery;\r\n\r\n        };\r\n\r\n\r\n        SolrRequest.prototype.getLoading = function () {\r\n            return this.siteState.loading;\r\n        };\r\n\r\n        SolrRequest.prototype.moreToLoad = function () {\r\n            return this.numFound > this.results.length;\r\n        };\r\n\r\n        SolrRequest.prototype.getExpanded = function () {\r\n            return this.expanded;\r\n        };\r\n\r\n        SolrRequest.prototype.loadNews = function () {\r\n            var self = this;\r\n            if (this.siteState.loading !== true) {\r\n                this.siteState.loading = true;\r\n\r\n                return $http({\r\n                    method: 'GET',\r\n                    url: \"http://www.newscombinator.com/api/statistics\",\r\n                    params: this.solrQuery.getHttpRequestParamObject()\r\n                }).then(function (result) {\r\n\r\n                    self.results = result.data.response.docs;\r\n                    for (var i = 0; i < self.results.length; i++) {\r\n                        self.documentIds.push(self.results[i].id);\r\n                    }\r\n                    self.expanded = result.data.expanded || {};\r\n                    self.facets = result.data.facets || {};\r\n                    self.start = result.data.response.docs.length;\r\n                    self.numFound = result.data.response.numFound;\r\n                    self.maxScore = result.data.response.maxScore;\r\n                    self.siteState.loading = false;\r\n                }, function (errorResponse) {\r\n                    console.error(errorResponse);\r\n                    self.siteState.loading = false;\r\n                });\r\n            }\r\n        };\r\n\r\n        SolrRequest.prototype.getResults = function () {\r\n            return this.results;\r\n        };\r\n        SolrRequest.prototype.getFacets = function () {\r\n            return this.facets;\r\n        };\r\n\r\n        SolrRequest.prototype.nextPage = function () {\r\n            var self = this;\r\n            if (this.siteState.loading !== true && this.start > 0 && this.documentIds.length < this.numFound) {\r\n                this.siteState.loading = true;\r\n\r\n                var params = QueryService.getHttpRequestParamObject();\r\n                params.start = this.start;\r\n                $http({\r\n                    method: 'GET',\r\n                    url: ENV.searchEndpoint + 'search/',\r\n                    params: params\r\n                }).then(function (result) {\r\n                    var items = result.data.response.docs;\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        if (self.documentIds.indexOf(items[i].id) === -1) {\r\n                            this.results.push(items[i]);\r\n                            self.documentIds.push(items[i].id);\r\n                        }\r\n                    }\r\n                    //angular.extend(this.results, response.response.docs);\r\n                    angular.extend(this.expanded, result.data.expanded);\r\n                    angular.extend(this.facets, result.data.facets);\r\n                    self.start = this.results.length;\r\n                    self.siteState.loading = false;\r\n\r\n                }, function (errorResponse) {\r\n                    console.error(errorResponse);\r\n                    self.siteState.loading = false;\r\n                });\r\n            }\r\n        };\r\n\r\n        SolrRequest.prototype.reset = function () {\r\n            this.start = 0;\r\n            this.siteState = {loading: false};\r\n            this.expanded = {};\r\n            this.numFound = 0;\r\n            this.maxScore = 0;\r\n\r\n            this.news = [];\r\n            this.results = [];\r\n            this.documentIds = [];\r\n        };\r\n\r\n        return {\r\n            Instance: SolrRequest\r\n        }\r\n    }\r\n})();\n/**\r\n * Created by Thomas on 01.04.2016.\r\n */\r\n\r\n'use strict';\r\n\r\nfunction SolrQuery() {\r\n    this.importancy = {\r\n        'points': 2.5,\r\n        'age': 2.5\r\n    };\r\n    this.filterQuery = [];\r\n    this.facetQuery = {};\r\n    this.fromDate = null;\r\n    this.toDate = null;\r\n\r\n    this.keywords = '';\r\n    this.rows = 10;\r\n\r\n}\r\n\r\nSolrQuery.prototype.setRows = function (rows) {\r\n    this.rows = rows;\r\n};\r\n\r\nSolrQuery.prototype.setFilterQuery = function (name, filterQuery) {\r\n    this.filterQueries[name] = filterQuery;\r\n};\r\n\r\nSolrQuery.prototype.getFilterQueries = function () {\r\n    return this.filterQueries\r\n};\r\n\r\nSolrQuery.prototype.getRows = function () {\r\n    return this.rows;\r\n};\r\n\r\n\r\nSolrQuery.prototype.getHttpRequestParamObject = function () {\r\n    var objParams = {\r\n        'q': this.getQueryString(),\r\n        'rows': this.rows\r\n    };\r\n\r\n    objParams = this.getFilterQueryObject(objParams);\r\n\r\n    if (this.facetQuery !== {}) {\r\n        objParams.facetting = this.getFacetQueryJson();\r\n    }\r\n    return objParams;\r\n};\r\n\r\nSolrQuery.prototype.getQueryString = function () {\r\n    var queryString = '';\r\n    if (this.importancy.points !== 0 || this.importancy.age !== 0) {\r\n        queryString += '( ';\r\n        if (this.importancy.points > 0) {\r\n            queryString += '_val_:\"log(add(1,num_total_points))\"^' + this.importancy.points * 3 + ' ';\r\n        }\r\n\r\n        if (this.importancy.age > 0) {\r\n            queryString += '_val_:\"recip(ms(NOW/HOUR,created_at),3.16e-11,2700,1)\"^' + this.importancy.age + ' ';\r\n        }\r\n\r\n        queryString += ' )';\r\n\r\n    }\r\n\r\n\r\n    if (this.keywords.length > 0) {\r\n        queryString += ' ' + this.keywords + ' ';\r\n    }\r\n\r\n    return queryString;\r\n};\r\n\r\n\r\nSolrQuery.prototype.getFilterQueryObject = function (objParams) {\r\n\r\n    var filterQueryObject = objParams || {};\r\n    var filterQueryKeyInt = 0;\r\n    for (var i = 0; i < this.filterQuery.length; i++) {\r\n        filterQueryObject['fq[' + filterQueryKeyInt + ']'] = this.filterQuery[i];\r\n        filterQueryKeyInt++;\r\n    }\r\n\r\n    if (this.fromDate instanceof Date || this.toDate instanceof Date) {\r\n        var queryString = 'created_at:[';\r\n        if (this.fromDate instanceof Date) {\r\n            queryString += this.fromDate.toISOString();\r\n        } else {\r\n            queryString += '*';\r\n        }\r\n        queryString += ' TO ';\r\n\r\n        if (this.toDate instanceof Date) {\r\n            queryString += this.toDate.toISOString();\r\n        } else {\r\n            queryString += '*';\r\n        }\r\n        queryString += ']';\r\n\r\n        filterQueryObject['fq[' + filterQueryKeyInt + ']'] = queryString;\r\n        filterQueryKeyInt++;\r\n    }\r\n\r\n    return filterQueryObject;\r\n};\r\n\r\nSolrQuery.prototype.solrEscape = function (inputValue) {\r\n    var match = ['\\\\', '+', '-', '&', '|', '!', '(', ')', '{', '}', '[', ']', '^', '~', '*', '?', ':', '\"', ';', ' '];\r\n    var replace = ['\\\\\\\\', '\\\\+', '\\\\-', '\\\\&', '\\\\|', '\\\\!', '\\\\(', '\\\\)', '\\\\{', '\\\\}', '\\\\[', '\\\\]', '\\\\^', '\\\\~', '\\\\*', '\\\\?', '\\\\:', '\\\\\"', '\\\\;', '\\\\ '];\r\n\r\n    for (var i = 0; i < match.length; i++) {\r\n        inputValue = inputValue.replace(match[i], replace[i]);\r\n    }\r\n\r\n    return inputValue;\r\n\r\n};\r\n\r\nSolrQuery.prototype.setFilterQueryFromArray = function (arrayValues) {\r\n\r\n    var query1 = this;\r\n    angular.forEach(arrayValues, function (value) {\r\n        if (value.keyword == \"\") {\r\n            return;\r\n        }\r\n        if (value.type.type == 'text') {\r\n            query1.addFilterQuery(value.type.prefix + query1.solrEscape(value.keyword) + value.type.postfix);\r\n        } else if (value.type.type == 'datepicker') {\r\n            query1.addFilterQuery(value.type.prefix + value.date.toISOString() + value.type.postfix);\r\n        } else if (value.type.type == 'slider') {\r\n            query1.addFilterQuery(value.type.prefix + value.keyword + value.type.postfix);\r\n        } else if (value.type.type == 'select') {\r\n            query1.addFilterQuery(value.type.prefix + value.keyword + value.type.postfix);\r\n        }\r\n\r\n        if (value.type.override !== undefined) {\r\n            vm[value.type.override] = value.keyword;\r\n        }\r\n    });\r\n};\r\n\r\n\r\nSolrQuery.prototype.addFilterQuery = function (filter) {\r\n    //do nothing if entity is already in the list\r\n    for (var i = 0; i < this.filterQuery.length; i++) {\r\n        if (this.filterQuery[i] == filter) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    this.filterQuery.push(filter);\r\n    return true;\r\n};\r\n\r\nSolrQuery.prototype.getFacetQueryJson = function () {\r\n    return JSON.stringify(this.facetQuery);\r\n};\r\n\r\nSolrQuery.prototype.addFacetTerms = function (name, field, limit, mincount, parent, domain, sort) {\r\n\r\n    var facetQuery = {};\r\n    facetQuery.type = \"terms\";\r\n    facetQuery.field = field;\r\n    if (limit !== undefined && limit >= 0) {\r\n        facetQuery.limit = limit;\r\n    }\r\n    if (mincount !== undefined && mincount >= 0) {\r\n        facetQuery.mincount = mincount;\r\n    }\r\n    if (domain !== undefined) {\r\n        facetQuery.domain = domain;\r\n    }\r\n    if (sort !== undefined) {\r\n        facetQuery.sort = sort;\r\n    }\r\n\r\n    if (parent !== undefined && this.facetQuery[parent] !== undefined) {\r\n        if (this.facetQuery[parent].facet == undefined) {\r\n            this.facetQuery[parent].facet = {};\r\n        }\r\n        this.facetQuery[parent][\"facet\"][name] = facetQuery;\r\n    } else {\r\n        this.facetQuery[name] = facetQuery;\r\n    }\r\n};\r\n\r\nSolrQuery.prototype.addFacetRange = function (name, field, start, end, gap, limit, mincount, parent) {\r\n\r\n    var facetQuery = {};\r\n    facetQuery.type = \"range\";\r\n    facetQuery.field = field;\r\n    facetQuery.start = start;\r\n    facetQuery.end = end;\r\n    facetQuery.gap = gap;\r\n    if (limit !== undefined && limit >= 0) {\r\n        facetQuery.limit = limit;\r\n    }\r\n    if (mincount !== undefined && mincount >= 0) {\r\n        facetQuery.mincount = mincount;\r\n    }\r\n\r\n    if (parent !== undefined && this.facetQuery[parent] !== undefined) {\r\n        this.facetQuery[parent][\"facet\"][name] = facetQuery;\r\n    } else {\r\n        this.facetQuery[name] = facetQuery;\r\n    }\r\n};\r\nSolrQuery.prototype.addFacetFunction = function (fieldName, functionName, parent) {\r\n    if (parent !== undefined && this.facetQuery[parent] !== undefined) {\r\n        this.facetQuery[parent][\"facet\"][fieldName] = functionName;\r\n    }\r\n};\r\n\r\nSolrQuery.prototype.removeFilterQueryByIndex = function (index) {\r\n    if (this.filterQuery[index] !== undefined) {\r\n        this.filterQuery.splice(index, 1);\r\n    }\r\n};\r\n\r\nSolrQuery.prototype.getFilterQueryIndexFromString = function (string) {\r\n    for (var i = 0; i < this.filterQuery.length; i++) {\r\n        if (this.filterQuery[i] === string) {\r\n            return i;\r\n        }\r\n    }\r\n};\r\n\r\nSolrQuery.prototype.setKeywords = function (keywords) {\r\n    if (keywords === undefined || keywords.length <= 0) {\r\n        this.keywords = \"*:*\"\r\n    } else {\r\n        this.keywords = keywords;\r\n    }\r\n};\r\nSolrQuery.prototype.getImportancy = function () {\r\n    return this.importancy;\r\n};\r\n\r\n\r\nSolrQuery.prototype.resetQuery = function () {\r\n\r\n    this.importancy = {\r\n        'points': 2.5,\r\n        'age': 2.5\r\n    };\r\n    this.filterQuery = [];\r\n    this.fromDate = null;\r\n    this.toDate = null;\r\n\r\n    this.keywords = '';\r\n    this.rows = 10;\r\n\r\n};\r\n\r\n\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('keywordsTable', dateChart);\n\n    /** @ngInject */\n    function dateChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/keywordstable/keywordstable.html',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n            vm.chartoptions = {\n                chart: {\n                    type: 'pieChart',\n                    height: 150,\n                    width: 150,\n                    x: function (d) {\n                        return d.key;\n                    },\n                    y: function (d) {\n                        return d.y;\n                    },\n                    showLabels: false,\n                    duration: 1000,\n                    labelThreshold: 1,\n                    labelSunbeamLayout: true,\n                    showLegend: false\n                }\n\n            };\n\n            vm.keywordsdata = [];\n\n            vm.addKeyword = function (word) {\n\n                vm.data.keywords.push({\n                    type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'general'})[0],\n                    keyword: word\n                });\n\n                //$scope.$apply();\n                vm.loadChart();\n            };\n\n            vm.loadChart = function () {\n\n                vm.loading = true;\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 5;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.addFilterQuery(\"on_frontpage:1\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n\n                query1.setRows(20);\n                query1.addFacetTerms(\"keywords\", \"title_terms\", 30, 1);\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"keywords\", {blockParent: \"content_type:sourceitem\"});\n\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.loading = false;\n                    vm.topResults = solrReq_1.getResults();\n                    vm.keywordsdata = [];\n                    if (solrReq_1.getFacets().count > 0) {\n\n                        angular.forEach(solrReq_1.getFacets()[\"keywords\"][\"buckets\"], function (value) {\n                            var chardata = [];\n                            angular.forEach(value.frontpage.buckets, function (val_frontpage) {\n                                if (val_frontpage.val == false) {\n                                    chardata.push({key: \"Not on Frontpage\", y: val_frontpage.count});\n                                } else {\n                                    chardata.push({key: \"On Frontpage\", y: val_frontpage.count});\n                                }\n                            });\n                            vm.keywordsdata.push({keyword: value, chartdata: chardata});\n\n                        });\n\n                    }\n                });\n\n                query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 5;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"on_frontpage:0\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n\n                query1.setRows(20);\n                query1.addFacetTerms(\"keywords\", \"title_terms\", 30, 1);\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"keywords\", {blockParent: \"content_type:sourceitem\"});\n\n                var solrReq_2 = new SolrRequest.Instance();\n                solrReq_2.setQuery(query1);\n                solrReq_2.loadNews().then(function () {\n\n                    vm.topResults_non_fp = solrReq_2.getResults();\n                    vm.keywordsdata_non_fp = [];\n                    if (solrReq_2.getFacets().count > 0) {\n\n                        angular.forEach(solrReq_2.getFacets()[\"keywords\"][\"buckets\"], function (value) {\n                            var chardata = [];\n                            angular.forEach(value.frontpage.buckets, function (val_frontpage) {\n                                if (val_frontpage.val == false) {\n                                    chardata.push({key: \"Not on Frontpage\", y: val_frontpage.count});\n                                } else {\n                                    chardata.push({key: \"On Frontpage\", y: val_frontpage.count});\n                                }\n                            });\n                            vm.keywordsdata_non_fp.push({keyword: value, chartdata: chardata});\n\n                        });\n\n                    }\n                });\n            };\n\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n\n                vm.loading = true;\n                if (loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 1500);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('weekdayChart', weekdayChart);\n\n    /** @ngInject */\n    function weekdayChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            var dayNameToInt = {\n                'Monday': 0,\n                'Tuesday': 1,\n                'Wednesday': 2,\n                'Thursday': 3,\n                'Friday': 4,\n                'Saturday': 5,\n                'Sunday': 6\n            };\n            var intDayToStringDay = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n            vm.addKeyword = function(objKeyword) {\n                this.data.keywords.push(objKeyword);\n            };\n\n            vm.options = {\n                chart: {\n                    type: 'multiBarChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 50,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d[0];\n                    },\n                    y: function (d) {\n                        return d[1];\n                    },\n                    multibar: {\n                        dispatch: {\n                            elementClick: function (e) {\n                                vm.data.keywords.push({\n                                    type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'found_weekdays_ss'})[0],\n                                    keyword: intDayToStringDay[e.data[0]]\n                                });\n                                $scope.$apply();\n                                vm.loadChart();\n                            }\n\n                        }\n                    },\n                    duration: 1000,\n                    useInteractiveGuideline: true,\n                    xAxis: {\n                        tickValues: [0, 1, 2, 3, 4, 5, 6],\n                        tickFormat: function (d) {\n                            return intDayToStringDay[d];\n                        },\n                        axisLabel: 'Days of the Week'\n                    },\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        },\n                        axisLabel: 'Number of Documents'\n                    },\n                    sortDescending: false\n                },\n                title: {\n                    enable: true,\n                    text: 'Weekday Chart'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'This charts shows on which weekday how many documents were upvotes until the frontpage and which never landed there. It is sorted from the highest amount to the lowest. Sidenote: If you select documents which are posted on e.g. Monday, then you can see when the documents have been crossposted as well.',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{values: [], key: 'On Frontpage'}, {values: [], key: 'Not On Frontpage'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n\n                query1.addFacetTerms(\"day_of_the_week\", \"found_weekdays_ss\", 7, 1, undefined, undefined, {count:\"desc\"});\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"day_of_the_week\", {blockParent: \"content_type:sourceitem\"});\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"day_of_the_week\"][\"buckets\"], function (value, key) {\n                            if (value.frontpage !== undefined) {\n                                angular.forEach(value.frontpage.buckets, function (value_fp) {\n                                    if (value_fp.val === true) {\n                                        vm.chartdata[0].values.push([dayNameToInt[value.val], value_fp.count]);\n                                    } else {\n                                        vm.chartdata[1].values.push([dayNameToInt[value.val], value_fp.count]);\n                                    }\n                                });\n                            } else {\n                                vm.chartdata[0].values.push([dayNameToInt[value.val], null]);\n                                vm.chartdata[1].values.push([dayNameToInt[value.val], null]);\n                            }\n                        });\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('sourceChart', sourceChart);\n\n    /** @ngInject */\n    function sourceChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n            var jsonSources = JSON.parse('{                \"table\": \"source\",                \"rows\":                [                    {                        \"source_id\": 1,                        \"source_link\": \"https://news.ycombinator.com/newest\",                        \"created\": \"2014-10-04 10:54:53\",                        \"source_description\": \"Y Combinator - Hacker News\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 3,                        \"source_link\": \"https://lobste.rs/recent\",                        \"created\": \"2014-11-05 12:58:45\",                        \"source_description\": \"Lobsters\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 4,                        \"source_link\": \"http://news.makerland.org/new/\",                        \"created\": \"2014-11-05 12:59:40\",                        \"source_description\": \"Makernews\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 5,                        \"source_link\": \"http://www.reddit.com/r/BSD\",                        \"created\": \"2014-11-05 14:39:24\",                        \"source_description\": \"reddit - BSD\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 6,                        \"source_link\": \"http://www.reddit.com/r/cableporn\",                        \"created\": \"2014-11-05 14:41:16\",                        \"source_description\": \"reddit - Cableporn\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 7,                        \"source_link\": \"http://www.reddit.com/r/DataHoarder\",                        \"created\": \"2014-11-05 14:41:59\",                        \"source_description\": \"reddit - DataHoarder\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 8,                        \"source_link\": \"http://www.reddit.com/r/devkit\",                        \"created\": \"2014-11-05 14:42:26\",                        \"source_description\": \"reddit - Devkit\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 9,                        \"source_link\": \"http://www.reddit.com/r/ECE\",                        \"created\": \"2014-11-05 14:42:49\",                        \"source_description\": \"reddit - embeddedlinux\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 10,                        \"source_link\": \"http://www.reddit.com/r/freebsd\",                        \"created\": \"2014-11-05 14:44:33\",                        \"source_description\": \"reddit - FreeBSD\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 11,                        \"source_link\": \"http://www.reddit.com/r/haikuOS\",                        \"created\": \"2014-11-05 14:45:29\",                        \"source_description\": \"reddit - HaikuOS\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 12,                        \"source_link\": \"http://www.reddit.com/r/homelab\",                        \"created\": \"2014-11-05 14:45:43\",                        \"source_description\": \"reddit - Homelab\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 13,                        \"source_link\": \"http://www.reddit.com/r/kernel\",                        \"created\": \"2014-11-05 14:47:10\",                        \"source_description\": \"reddit - Kernel\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 14,                        \"source_link\": \"http://www.reddit.com/r/linux\",                        \"created\": \"2014-11-05 14:47:26\",                        \"source_description\": \"reddit - Linux\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 15,                        \"source_link\": \"http://www.reddit.com/r/linuxadmin\",                        \"created\": \"2014-11-05 14:47:43\",                        \"source_description\": \"reddit - Linuxadmin\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 16,                        \"source_link\": \"http://www.reddit.com/r/linuxdev\",                        \"created\": \"2014-11-05 14:48:06\",                        \"source_description\": \"reddit - LinuxDev\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 17,                        \"source_link\": \"http://www.reddit.com/r/linux_devices\",                        \"created\": \"2014-11-05 14:48:25\",                        \"source_description\": \"reddit - Linux Devices\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 18,                        \"source_link\": \"http://www.reddit.com/r/NetBSD\",                        \"created\": \"2014-11-05 14:48:50\",                        \"source_description\": \"reddit - NetBSD\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 19,                        \"source_link\": \"http://www.reddit.com/r/netsec\",                        \"created\": \"2014-11-05 14:49:10\",                        \"source_description\": \"reddit - NetSec\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 20,                        \"source_link\": \"http://www.reddit.com/r/openbsd\",                        \"created\": \"2014-11-05 14:51:00\",                        \"source_description\": \"reddit - OpenBSD\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 21,                        \"source_link\": \"http://www.reddit.com/r/opensourcehardware\",                        \"created\": \"2014-11-05 14:51:23\",                        \"source_description\": \"reddit - Opensource Hardware\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 22,                        \"source_link\": \"http://www.reddit.com/r/openSUSE\",                        \"created\": \"2014-11-05 14:51:51\",                        \"source_description\": \"reddit - OpenSUSE\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 23,                        \"source_link\": \"http://www.reddit.com/r/openwrt\",                        \"created\": \"2014-11-05 14:52:16\",                        \"source_description\": \"reddit - OpenWRT\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 24,                        \"source_link\": \"http://www.reddit.com/r/osdev\",                        \"created\": \"2014-11-05 14:52:27\",                        \"source_description\": \"reddit - OS Dev\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 25,                        \"source_link\": \"http://www.reddit.com/r/RTLSDR\",                        \"created\": \"2014-11-05 14:52:58\",                        \"source_description\": \"reddit - RTLSDR\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 26,                        \"source_link\": \"http://www.reddit.com/r/sysadmin\",                        \"created\": \"2014-11-05 14:53:20\",                        \"source_description\": \"reddit - Sysadmin\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 27,                        \"source_link\": \"http://www.reddit.com/r/systems\",                        \"created\": \"2014-11-05 14:53:37\",                        \"source_description\": \"reddit - Systems\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 28,                        \"source_link\": \"http://www.reddit.com/r/unix\",                        \"created\": \"2014-11-05 14:53:53\",                        \"source_description\": \"reddit - Unix\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 29,                        \"source_link\": \"http://www.reddit.com/r/usefulscripts\",                        \"created\": \"2014-11-05 14:54:07\",                        \"source_description\": \"reddit - Usefulscripts\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 30,                        \"source_link\": \"http://www.reddit.com/r/REMath\",                        \"created\": \"2014-11-05 14:54:35\",                        \"source_description\": \"reddit - REMath\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 31,                        \"source_link\": \"http://www.reddit.com/r/ReverseEngineering\",                        \"created\": \"2014-11-05 14:56:16\",                        \"source_description\": \"reddit - Reverse Engineering\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 32,                        \"source_link\": \"http://www.reddit.com/r/lowlevel\",                        \"created\": \"2014-11-05 14:56:38\",                        \"source_description\": \"reddit - Lowlevel\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 33,                        \"source_link\": \"http://www.reddit.com/r/vrd\",                        \"created\": \"2014-11-05 14:57:32\",                        \"source_description\": \"reddit - VRD\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 34,                        \"source_link\": \"http://www.reddit.com/r/math\",                        \"created\": \"2014-11-05 14:57:54\",                        \"source_description\": \"reddit - Math\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 35,                        \"source_link\": \"http://www.reddit.com/r/types\",                        \"created\": \"2014-11-05 14:58:23\",                        \"source_description\": \"reddit - Types\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 36,                        \"source_link\": \"http://www.reddit.com/r/dependent_types\",                        \"created\": \"2014-11-05 14:58:39\",                        \"source_description\": \"reddit - Dependent Types\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 37,                        \"source_link\": \"http://www.reddit.com/r/Coq\",                        \"created\": \"2014-11-05 14:59:08\",                        \"source_description\": \"reddit - Coq\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 38,                        \"source_link\": \"http://www.reddit.com/r/haskell\",                        \"created\": \"2014-11-05 14:59:23\",                        \"source_description\": \"reddit - Haskell\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 39,                        \"source_link\": \"http://www.reddit.com/r/ocaml\",                        \"created\": \"2014-11-05 14:59:46\",                        \"source_description\": \"reddit - Ocaml\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 40,                        \"source_link\": \"http://www.reddit.com/r/crypto\",                        \"created\": \"2014-11-05 15:00:08\",                        \"source_description\": \"reddit - Crypto\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 41,                        \"source_link\": \"http://www.reddit.com/r/fsharp\",                        \"created\": \"2014-11-05 15:00:24\",                        \"source_description\": \"reddit - FSharp\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 42,                        \"source_link\": \"http://www.reddit.com/r/scala\",                        \"created\": \"2014-11-05 15:00:40\",                        \"source_description\": \"reddit - Scala\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 43,                        \"source_link\": \"http://www.reddit.com/r/lisp\",                        \"created\": \"2014-11-05 15:00:51\",                        \"source_description\": \"reddit - Lisp\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 44,                        \"source_link\": \"http://www.reddit.com/r/ProgrammingLanguages\",                        \"created\": \"2014-11-05 15:02:52\",                        \"source_description\": \"reddit - Programming Languages\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 45,                        \"source_link\": \"http://www.reddit.com/r/dataisbeautiful\",                        \"created\": \"2014-11-05 15:03:30\",                        \"source_description\": \"reddit - Data is Beautiful\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 46,                        \"source_link\": \"http://www.reddit.com/r/PhilosophyofMath\",                        \"created\": \"2014-11-05 15:03:52\",                        \"source_description\": \"reddit - Philospohy of Math\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 47,                        \"source_link\": \"http://www.reddit.com/r/PhilosophyofScience\",                        \"created\": \"2014-11-05 15:04:23\",                        \"source_description\": \"reddit - Philosophy of Science\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 48,                        \"source_link\": \"http://www.reddit.com/r/MachineLearning\",                        \"created\": \"2014-11-05 15:04:53\",                        \"source_description\": \"reddit - Machine Learning\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 49,                        \"source_link\": \"http://www.reddit.com/r/IPython\",                        \"created\": \"2014-11-05 15:05:10\",                        \"source_description\": \"reddit - IPython\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 50,                        \"source_link\": \"http://www.reddit.com/r/statistics\",                        \"created\": \"2014-11-05 15:05:24\",                        \"source_description\": \"reddit - Statistics\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 51,                        \"source_link\": \"http://www.reddit.com/r/Design\",                        \"created\": \"2014-11-05 15:05:50\",                        \"source_description\": \"reddit - Design\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 52,                        \"source_link\": \"http://www.reddit.com/r/webdev\",                        \"created\": \"2014-11-05 15:06:36\",                        \"source_description\": \"reddit - Webdev\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 53,                        \"source_link\": \"http://www.reddit.com/r/web_design\",                        \"created\": \"2014-11-05 15:06:48\",                        \"source_description\": \"reddit - Webdesign\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 54,                        \"source_link\": \"http://www.reddit.com/r/Frontend\",                        \"created\": \"2014-11-05 15:07:02\",                        \"source_description\": \"reddit - Frontend\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 55,                        \"source_link\": \"http://www.reddit.com/r/duckduckgo\",                        \"created\": \"2014-11-05 15:07:34\",                        \"source_description\": \"reddit - DuckDuckGo\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 56,                        \"source_link\": \"http://www.reddit.com/r/node\",                        \"created\": \"2014-11-05 15:07:53\",                        \"source_description\": \"reddit - NodeJS\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 57,                        \"source_link\": \"http://www.reddit.com/r/angularjs\",                        \"created\": \"2014-11-05 15:09:01\",                        \"source_description\": \"reddit - Angular JS\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 58,                        \"source_link\": \"http://www.reddit.com/r/sysor\",                        \"created\": \"2014-11-05 15:09:42\",                        \"source_description\": \"reddit - Sysor\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 59,                        \"source_link\": \"http://www.reddit.com/r/optimization\",                        \"created\": \"2014-11-05 15:09:56\",                        \"source_description\": \"reddit - Optimization\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 60,                        \"source_link\": \"http://www.reddit.com/r/algorithms\",                        \"created\": \"2014-11-05 15:10:14\",                        \"source_description\": \"reddit - Algorithms\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 61,                        \"source_link\": \"http://www.reddit.com/r/BusinessIntelligence\",                        \"created\": \"2014-11-05 15:10:58\",                        \"source_description\": \"reddit - Business Intelligence\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 62,                        \"source_link\": \"http://www.reddit.com/r/Database\",                        \"created\": \"2014-11-05 15:11:13\",                        \"source_description\": \"reddit - Database\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 63,                        \"source_link\": \"http://www.reddit.com/r/datasets\",                        \"created\": \"2014-11-05 15:11:26\",                        \"source_description\": \"reddit - Datasets\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 64,                        \"source_link\": \"http://www.reddit.com/r/datascience\",                        \"created\": \"2014-11-05 15:11:47\",                        \"source_description\": \"reddit - Data Science\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 65,                        \"source_link\": \"http://www.reddit.com/r/opendata\",                        \"created\": \"2014-11-05 15:12:08\",                        \"source_description\": \"reddit - OpenData\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 66,                        \"source_link\": \"http://www.reddit.com/r/analyzit\",                        \"created\": \"2014-11-05 15:12:27\",                        \"source_description\": \"reddit - Analyzit\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 67,                        \"source_link\": \"http://www.reddit.com/r/semanticweb\",                        \"created\": \"2014-11-05 15:12:43\",                        \"source_description\": \"reddit - Semantic Web\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 68,                        \"source_link\": \"http://www.reddit.com/r/visualization\",                        \"created\": \"2014-11-05 15:13:02\",                        \"source_description\": \"reddit - Visualization\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 69,                        \"source_link\": \"http://www.reddit.com/r/analytics\",                        \"created\": \"2014-11-05 15:13:16\",                        \"source_description\": \"reddit - Analytics\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 70,                        \"source_link\": \"http://www.reddit.com/r/programming\",                        \"created\": \"2014-11-05 15:18:03\",                        \"source_description\": \"reddit - Programming\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 71,                        \"source_link\": \"http://www.reddit.com/r/Python\",                        \"created\": \"2014-11-05 15:18:32\",                        \"source_description\": \"reddit - Python\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 72,                        \"source_link\": \"http://www.reddit.com/r/django\",                        \"created\": \"2014-11-05 15:18:45\",                        \"source_description\": \"reddit - Django\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 73,                        \"source_link\": \"http://lesswrong.com/r/discussion\",                        \"created\": \"2014-11-05 15:20:16\",                        \"source_description\": \"Lesswrong Discussion\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 74,                        \"source_link\": \"http://soylentnews.org/\",                        \"created\": \"2014-11-05 15:21:46\",                        \"source_description\": \"Soylent News\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 75,                        \"source_link\": \"http://slashdot.org/\",                        \"created\": \"2014-11-05 15:23:57\",                        \"source_description\": \"Slashdot.org\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 76,                        \"source_link\": \"http://www.reddit.com/r/coding\",                        \"created\": \"2014-11-05 15:25:25\",                        \"source_description\": \"reddit - Coding\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 77,                        \"source_link\": \"http://digg.com/tag/technology\",                        \"created\": \"2014-11-05 15:28:30\",                        \"source_description\": \"digg - technology\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 78,                        \"source_link\": \"http://coinspotting.com/newest\",                        \"created\": \"2014-11-05 15:30:05\",                        \"source_description\": \"Coinspotting - for Cryptocurrencies\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 79,                        \"source_link\": \"http://www.datatau.com/newest\",                        \"created\": \"2014-11-05 15:30:28\",                        \"source_description\": \"DataTau - for Data Scientists\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 80,                        \"source_link\": \"http://firespotting.com/newest\",                        \"created\": \"2014-11-05 15:30:49\",                        \"source_description\": \"Firespotting - for Ideas\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 81,                        \"source_link\": \"http://www.medtechnologynews.com/newest\",                        \"created\": \"2014-11-05 15:32:08\",                        \"source_description\": \"Med Technology News - Hacker News for medical technology\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 82,                        \"source_link\": \"http://inbound.org/\",                        \"created\": \"2014-11-05 15:34:29\",                        \"source_description\": \"Inbound - For Marketing\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 83,                        \"source_link\": \"http://pullup.io/news\",                        \"created\": \"2014-11-05 15:35:34\",                        \"source_description\": \"Pullup.io - NodeJS related\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 84,                        \"source_link\": \"http://lamernews.com/latest/0\",                        \"created\": \"2014-11-05 15:36:22\",                        \"source_description\": \"Lamernews\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 85,                        \"source_link\": \"http://www.woodspotting.com/latest/0\",                        \"created\": \"2014-11-05 15:39:11\",                        \"source_description\": \"WoodSpotting \",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 86,                        \"source_link\": \"http://www.reddit.com/r/Entrepreneur\",                        \"created\": \"2014-11-05 15:55:48\",                        \"source_description\": \"reddit - Entrepeneur\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 87,                        \"source_link\": \"http://www.reddit.com/r/smallbusiness\",                        \"created\": \"2014-11-05 15:56:10\",                        \"source_description\": \"reddit - Smallbusiness\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 88,                        \"source_link\": \"http://www.reddit.com/r/startups\",                        \"created\": \"2014-11-05 15:56:24\",                        \"source_description\": \"reddit - Startups\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 89,                        \"source_link\": \"http://www.echojs.com/latest/0\",                        \"created\": \"2014-11-05 15:57:00\",                        \"source_description\": \"Echo JS - News for Javascript\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 91,                        \"source_link\": \"https://usv.com/\",                        \"created\": \"2014-11-05 16:01:21\",                        \"source_description\": \"USV - Union Square Ventures\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 92,                        \"source_link\": \"http://devmaster.net/\",                        \"created\": \"2014-11-05 16:05:55\",                        \"source_description\": \"Devmaster - Game Development News &amp; Links\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 93,                        \"source_link\": \"http://www.dzone.com/links/queue.html\",                        \"created\": \"2014-11-05 16:09:03\",                        \"source_description\": \"Dzone - Smart Content For Tech Professionals\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 94,                        \"source_link\": \"http://www.reddit.com/r/Bitcoin\",                        \"created\": \"2014-11-05 16:10:12\",                        \"source_description\": \"reddit - Bitcoin\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 95,                        \"source_link\": \"http://www.reddit.com/r/Ingress\",                        \"created\": \"2014-11-21 19:58:47\",                        \"source_description\": \"reddit - Ingress\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 96,                        \"source_link\": \"http://www.reddit.com/r/gamification\",                        \"created\": \"2014-11-21 20:03:54\",                        \"source_description\": \"reddit - Gamification\",                        \"source_active\": 0,                        \"source_rss\": 0                    },                    {                        \"source_id\": 97,                        \"source_link\": \"http://www.reddit.com/r/fintech\",                        \"created\": \"2015-05-30 07:22:23\",                        \"source_description\": \"reddit - Financial Technology\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 98,                        \"source_link\": \"http://www.reddit.com/r/accounting\",                        \"created\": \"2015-05-30 07:40:49\",                        \"source_description\": \"reddit - Accounting\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 99,                        \"source_link\": \"http://www.reddit.com/r/business\",                        \"created\": \"2015-05-30 07:43:31\",                        \"source_description\": \"reddit - Business\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 101,                        \"source_link\": \"http://www.reddit.com/r/InternationalBusiness\",                        \"created\": \"2015-05-30 07:43:31\",                        \"source_description\": \"reddit - International Business\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 102,                        \"source_link\": \"http://www.reddit.com/r/Insidernews\",                        \"created\": \"2015-05-30 07:43:31\",                        \"source_description\": \"reddit - Insidernews\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 103,                        \"source_link\": \"http://www.reddit.com/r/IOT\",                        \"created\": \"2015-05-30 07:43:31\",                        \"source_description\": \"reddit - Internet of Things (IoT)\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 104,                        \"source_link\": \"https://javascriptkicks.com\",                        \"created\": \"2015-08-01 08:12:58\",                        \"source_description\": \"JavaScript Kicks\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 105,                        \"source_link\": null,                        \"created\": \"2016-02-13 02:12:54\",                        \"source_description\": \"Twitter Stream\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 106,                        \"source_link\": \"http://www.reddit.com/r/worldnews\",                        \"created\": \"2016-02-13 05:03:42\",                        \"source_description\": \"reddit - World News\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 107,                        \"source_link\": null,                        \"created\": \"2016-02-13 02:13:14\",                        \"source_description\": \"Securities and Exchange Commission (SEC) - Edgar filings\",                        \"source_active\": 1,                        \"source_rss\": 0                    },                    {                        \"source_id\": 108,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/1/projects\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Projects\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 109,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/2/finance-investment\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Finance\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 110,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/3/contract-awards\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Contract Awards\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 111,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/4/engineering-construction\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Engineering Construction\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 112,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/5/operations-maintenance\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Operation Construction\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 113,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/6/exploration-survey\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Exploration Survey\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 114,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/7/production\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Production\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 115,                        \"source_link\": \"http://feeds.feedburner.com/TechCrunch/\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Techcrunch\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 116,                        \"source_link\": \"http://feeds.feedburner.com/Makeuseof?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - MakeUseOf\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 117,                        \"source_link\": \"http://feeds.feedburner.com/giveawayoftheday/feed?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - GiveAway of the Day\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 118,                        \"source_link\": \"http://feeds.gawker.com/lifehacker/full\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Lifehacker\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 119,                        \"source_link\": \"http://feeds.feedburner.com/Mashable?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Mashable\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 120,                        \"source_link\": \"http://feeds.feedburner.com/QuickOnlineTips?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Quick Online Tips\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 122,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/8/legal-regulatory\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Legal and Regulatory\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 123,                        \"source_link\": \"http://www.epcengineer.com/rss/news/category/9/research-development\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Research and Development\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 124,                        \"source_link\": \"http://www.epcengineer.com/rss/news/oil-and-gas\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Oil and Gas News\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 125,                        \"source_link\": \"http://www.epcengineer.com/rss/news/mining-and-minerals\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Mining and Minerals\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 126,                        \"source_link\": \"http://www.epcengineer.com/rss/news/power-and-energy\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Power and Energy\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 127,                        \"source_link\": \"http://www.epcengineer.com/rss/news/building-and-infrastructure\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - EPCEngineer - Building and Infrastructure\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 129,                        \"source_link\": \"http://feeds.reuters.com/reuters/businessNews?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Reuters Business News\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 130,                        \"source_link\": \"http://feeds.reuters.com/reuters/companyNews?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Reuters Company News\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 131,                        \"source_link\": \"http://feeds.reuters.com/reuters/scienceNews?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Reuters Science News\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 132,                        \"source_link\": \"http://feeds.reuters.com/Reuters/worldNews?format=xml\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Reuters World News\",                        \"source_active\": 1,                        \"source_rss\": 1                    },                    {                        \"source_id\": 133,                        \"source_link\": \"http://www.constructionweekonline.com/rssFeed/WebRssFeeds/TENDERS/\",                        \"created\": \"2016-03-28 15:39:03\",                        \"source_description\": \"RSS - Tenders - Construction Week Online\",                        \"source_active\": 1,                        \"source_rss\": 1                    }                ]            }');\n            var arrSourcesLabels = [];\n            var arrSourcesLinks = [];\n            angular.forEach(jsonSources.rows, function (value) {\n                arrSourcesLabels[value.source_id] = value.source_description;\n                if(value.source_link != null) {\n                    arrSourcesLinks[value.source_id] = value.source_link.replace(/\\/newest$|\\/recent$|\\/links\\/queue\\.html$/, '');\n                }\n            });\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    type: 'discreteBarChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 150,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d[0];\n                    },\n                    y: function (d) {\n                        return d[1];\n                    },\n                    discretebar: {\n                      dispatch: {\n                          elementClick: function(e) {\n                              var found = false;\n                              angular.forEach(vm.data.keywords, function(value) {\n                                  if(value.type.typeValue == 'source') {\n                                      found = true;\n                                      value.keyword = arrSourcesLinks[e.data[0]];\n                                  }\n\n                              });\n                              if(!found) {\n                                  vm.data.keywords.push({\n                                      type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'source'})[0],\n                                      keyword: arrSourcesLinks[e.data[0]]\n                                  });\n                              }\n                              //$scope.$apply();\n                              vm.loadChart();\n                          }\n                      }\n                    },\n                    duration: 100,\n                    xAxis: {\n\n                        tickFormat: function(d) {\n                          return arrSourcesLabels[d];\n                        },\n                        rotateLabels: -45,\n                        axisLabel: 'Sources of the documents in Index'\n                    },\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        }\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Sources Chart'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'Where are those links submitted? Or where were they cross-posted?',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{key: \"Number of Documents per Source\", values: []}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n                query1.addFacetTerms(\"source_sites\", \"source_site_ids_is\", 10, 1);\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"source_sites\"][\"buckets\"], function (value) {\n                            vm.chartdata[0].values.push([value.val, value.count]);\n\n                        });\n                        console.log(vm.chartdata);\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('hoursPickupChart', hoursPickupChart);\n\n    /** @ngInject */\n    function hoursPickupChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    type: 'multiChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 60,\n                        bottom: 50,\n                        left: 70\n                    },\n                    duration: 1000,\n                    reduceXTicks: false,\n                    useInteractiveGuideline: true,\n                    bars1: {\n                        stacked: true,\n                        dispatch: {\n                            elementClick: function(e) {\n                                var found = false;\n                                angular.forEach(vm.data.keywords, function(value) {\n                                    if(value.type.typeValue == 'found_hours_is') {\n                                        found = true;\n                                        value.keyword = e.data.x;\n                                    }\n\n                                });\n                                if(!found) {\n                                    vm.data.keywords.push({\n                                        type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'found_hours_is'})[0],\n                                        keyword: e.data.x\n                                    });\n                                }\n                                //$scope.$apply();\n                                vm.loadChart();\n                            }\n                        }\n                    },\n                    yAxis1: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        },\n                        axisLabel: 'Number of Documents'\n                    },\n                    yAxis2: {\n                        tickFormat: function (d) {\n                            return d+\"%\";\n                        },\n                        axisLabel: 'Pickup Rate'\n                    },\n                    xAxis: {\n\n                        axisLabel: 'Hours of the Day'\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Hour of the day chart'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'This chart shows at which time of the day how many documents landed on the frontpage and which ones not.',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{values: [], key: 'On Frontpage', yAxis:1, type:'bar'}, {values: [], key: 'Not On Frontpage', yAxis:1, type:'bar'}, {values: [], key: 'Pickup Rate', yAxis:2, type:'line'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n\n                query1.addFacetTerms(\"hours_of_the_day\", \"found_hours_is\", 24, 1, undefined, undefined, {index: \"asc\"});\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"hours_of_the_day\", {blockParent: \"content_type:sourceitem\"});\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    vm.chartdata[2].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"hours_of_the_day\"][\"buckets\"], function (value) {\n                            if (value.frontpage !== undefined) {\n                                var on_frontpage = 0;\n                                var not_on_frontpage = 0;\n\n                                angular.forEach(value.frontpage.buckets, function (value_fp) {\n                                    if (value_fp.val === true) {\n                                        vm.chartdata[0].values.push({x :value.val, y:value_fp.count});\n                                        on_frontpage = value_fp.count;\n                                    } else {\n                                        vm.chartdata[1].values.push({x :value.val, y:value_fp.count});\n                                        not_on_frontpage = value_fp.count;\n                                    }\n                                });\n\n                                vm.chartdata[2].values.push({x: value.val, y: Math.round((on_frontpage / (not_on_frontpage+on_frontpage))*100)});\n                            } else {\n                                vm.chartdata[0].values.push({x :value.val, y:0});\n                                vm.chartdata[1].values.push({x :value.val, y:null});\n                                vm.chartdata[2].values.push({x :value.val, y:null});\n                            }\n                        });\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('hoursChart', hoursChart);\n\n    /** @ngInject */\n    function hoursChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    type: 'multiBarChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 50,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d[0];\n                    },\n                    y: function (d) {\n                        return d[1];\n                    },\n                    multibar: {\n                        dispatch: {\n                            elementClick: function (e) {\n                                vm.data.keywords.push({\n                                    type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'found_hours_is'})[0],\n                                    keyword: e.data[0]\n                                });\n                                $scope.$apply();\n                                vm.loadChart();\n                            }\n\n                        }\n                    },\n                    duration: 1000,\n                    useInteractiveGuideline: true,\n                    reduceXTicks: false,\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        },\n                        axisLabel: '#Documents'\n                    },\n                    xAxis: {\n                        axisLabel: 'Hours of the Day'\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Hour of the day chart'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'This chart shows at which time of the day how many documents landed on the frontpage and which ones not.',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{values: [], key: 'On Frontpage'}, {values: [], key: 'Not On Frontpage'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n\n                query1.addFacetTerms(\"hours_of_the_day\", \"found_hours_is\", 24, 1, undefined, undefined, {index: \"asc\"});\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"hours_of_the_day\", {blockParent: \"content_type:sourceitem\"});\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"hours_of_the_day\"][\"buckets\"], function (value) {\n                            if (value.frontpage !== undefined) {\n                                angular.forEach(value.frontpage.buckets, function (value_fp) {\n                                    if (value_fp.val === true) {\n                                        vm.chartdata[0].values.push([value.val, value_fp.count]);\n                                    } else {\n                                        vm.chartdata[1].values.push([value.val, value_fp.count]);\n                                    }\n                                });\n                            } else {\n                                vm.chartdata[0].values.push([value.val, null]);\n                                vm.chartdata[1].values.push([value.val, null]);\n                            }\n                        });\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('documentsPerPointsChart',documentsPerPointsChart);\n\n    /** @ngInject */\n    function documentsPerPointsChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    lines: {\n                        dispatch: {\n                            elementClick: function (e) {\n                                var found = false;\n                                angular.forEach(vm.data.keywords, function(value) {\n                                    if(value.type.typeValue == 'minPoints') {\n                                        found = true;\n                                        value.keyword = e[0].point.x;\n                                    }\n\n                                });\n                                if(!found) {\n                                    vm.data.keywords.push({\n                                        type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'minPoints'})[0],\n                                        keyword: e[0].point.x\n                                    });\n                                }\n                                //$scope.$apply();\n                                vm.loadChart();\n                            }\n                        }\n                    },\n                    interactiveLayer: {\n                        tooltip: {\n                            contentGenerator: function (d) {\n                                var lowerNumber = (d.value) + \" to \" + (d.value + 25);\n\n                                return '<h3>Number of Documents</h3>' +\n                                    '<br />' + d.series[0].value + ' Links with ' + (lowerNumber) + ' ' + d.series[0].key +\n                                    '<br />' + d.series[1].value + ' Links with ' + (lowerNumber) + ' ' + d.series[1].key;\n                            }\n                        }\n                    },\n\n                    type: 'lineChart',\n                    height: 400,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 80,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d.x;\n                    },\n                    xAxis: {\n                        axisLabel: '#Documents with #Points/#Comments across Aggregators (Ycombinator, Reddit,...)',\n                        rotateLabels: -45\n                    },\n                    y: function (d) {\n                        return d.y;\n                    },\n                    useInteractiveGuideline: true,\n                    duration: 1000,\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        }\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Number of Documents per Points/Comments'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'This shows the number of documents that received a certain number of points (upvotes) or comments. It is in 25 increments (0-24, 25-49,...)',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{values: [], key: 'Points'}, {values: [], key: 'Comments'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n                query1.addFacetRange(\"points\", \"num_total_points\", 0, 500, 25, undefined, 0);\n                query1.addFacetRange(\"comments\", \"num_total_comments\", 0, 500, 25, undefined, 0);\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"points\"][\"buckets\"], function (value) {\n                            vm.chartdata[0].values.push({x: value.val, y: value.count});\n                        });\n                        angular.forEach(solrReq_1.getFacets()[\"comments\"][\"buckets\"], function (value) {\n                            vm.chartdata[1].values.push({x: value.val, y: value.count});\n                        });\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('documentsOnFrontpageChart',documentsOnFrontpageChart);\n\n    /** @ngInject */\n    function documentsOnFrontpageChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    type: 'stackedAreaChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 30,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d[0];\n                    },\n                    y: function (d) {\n                        return d[1];\n                    },\n                    duration: 1000,\n                    useInteractiveGuideline: true,\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        }\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Number of Documents on Frontpage'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'This Chart shows the number of Documents which landed on the frontpage vs. the number of documents which never made it there.',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata =  [{values: [], key: 'On Frontpage'}, {values: [], key: 'Not On Frontpage'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n                query1.addFacetRange(\"points\", \"num_total_points\", 0, 500, 25, undefined, 0);\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"points\", {blockParent: \"content_type:sourceitem\"});\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"points\"][\"buckets\"], function (value) {\n                            if (value.frontpage !== undefined) {\n                                angular.forEach(value.frontpage.buckets, function (value_fp) {\n                                    if (value_fp.val === true) {\n                                        vm.chartdata[0].values.push([value.val, value_fp.count]);\n                                    } else {\n\n                                        vm.chartdata[1].values.push([value.val, value_fp.count]);\n                                    }\n                                });\n                            } else {\n                                vm.chartdata[0].values.push([value.val, null]);\n                                vm.chartdata[1].values.push([value.val, null]);\n                            }\n                        });\n\n                    }\n                });\n            };\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .directive('dateChart',dateChart);\n\n    /** @ngInject */\n    function dateChart(SolrRequest) {\n        var directive = {\n            restrict: 'E',\n            template: '<nvd3 options=\"vm.options\" data=\"vm.chartdata\"></nvd3>',\n            scope: {\n                data: '='\n            },\n            controller: ChartController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ChartController($scope, $filter, $timeout) {\n\n            var vm = this;\n\n            vm.options = {\n                chart: {\n                    type: 'multiBarChart',\n                    height: 450,\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 100,\n                        left: 70\n                    },\n                    x: function (d) {\n                        return d[0];\n                    },\n                    y: function (d) {\n                        return d[1];\n                    },\n                    multibar: {\n                      dispatch: {\n                          elementClick: function(e){\n                              var found = false;\n                              angular.forEach(vm.data.keywords, function(value) {\n                                  if(value.date !== undefined && value.type.typeValue == 'startDate' && value.date instanceof Date) {\n                                      found = true;\n                                      value.date = e.data[0];\n                                  }\n\n                              });\n                              if(!found) {\n                                  vm.data.keywords.push({\n                                      type: $filter(\"filter\")(vm.data.keywordTypes, {typeValue: 'startDate'})[0],\n                                      date: e.data[0]\n                                  });\n                              }\n                              $scope.$apply();\n                              vm.loadChart();\n                          }\n                      }\n                    },\n                    useVoronoi: false,\n                    clipEdge: false,\n                    duration: 1000,\n                    useInteractiveGuideline: true,\n                    xAxis: {\n                        expanded: true,\n                        showMaxMin: true,\n\n                        rotateLabels: -45,\n                        tickFormat: function (date) {\n                            return \"From \"+d3.time.format('%b %d, %Y')(new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds()));\n                        }\n\n                    },\n                    yAxis: {\n                        tickFormat: function (d) {\n                            return d3.format('s')(d);\n                        },\n                        axisLabel: 'Number of Documents'\n                    }\n                },\n                title: {\n                    enable: true,\n                    text: 'Date Chart'\n                },\n                subtitle: {\n                    enable: true,\n                    text: 'How many submitted links landed on the frontpage between two specific dates?',\n                    css: {\n                        'text-align': 'center',\n                        'margin': '10px 13px 0px 7px',\n                        'font-size': '80%'\n                    }\n                }\n            };\n\n            vm.chartdata = [{values: [], key: 'On Frontpage'}, {values: [], key: 'Not On Frontpage'}];\n\n            vm.loadChart = function () {\n\n                var query1 = new SolrQuery();\n                query1.setKeywords(\"*:*\");\n                query1.getImportancy().points = 0;\n                query1.getImportancy().age = 0;\n                query1.addFilterQuery(\"content_type:document\");\n                query1.setFilterQueryFromArray(vm.data.keywords);\n                var startDate = '2015-01-01T00:00:00Z';\n                var endDate = new Date().toISOString();\n                angular.forEach(vm.data.keywords, function(value) {\n                    if(value.type.typeValue == 'startDate' && value.date instanceof Date) {\n                        startDate = value.date.toISOString();\n                    }\n                    if(value.type.typeValue == 'endDate'  && value.date instanceof Date) {\n                        endDate = value.date.toISOString();\n                    }\n                });\n\n                query1.addFacetRange(\"date\", \"created_at\", startDate, endDate, \"+1MONTH\", undefined, 0);\n                query1.addFacetTerms(\"frontpage\", \"on_frontpage\", 2, 0, \"date\", {blockParent: \"content_type:sourceitem\"});\n                var solrReq_1 = new SolrRequest.Instance();\n                solrReq_1.setQuery(query1);\n                solrReq_1.loadNews().then(function () {\n\n                    vm.chartdata[0].values = [];\n                    vm.chartdata[1].values = [];\n                    if (solrReq_1.getFacets().count > 0) {\n                        angular.forEach(solrReq_1.getFacets()[\"date\"][\"buckets\"], function (value) {\n                            if (value.frontpage !== undefined) {\n                                angular.forEach(value.frontpage.buckets, function (value_fp) {\n                                    if (value_fp.val === true) {\n                                        vm.chartdata[0].values.push([new Date(value.val), value_fp.count]);\n                                    } else {\n                                        vm.chartdata[1].values.push([new Date(value.val), value_fp.count]);\n                                    }\n                                });\n                            } else {\n                                vm.chartdata[0].values.push([new Date(value.val), null]);\n                                vm.chartdata[1].values.push([new Date(value.val), null]);\n                            }\n                        });\n\n                    }\n                });\n            };\n\n            var loadChartTimeout;\n\n            function loadChartDelayed() {\n                if(loadChartTimeout !== undefined) {\n                    $timeout.cancel(loadChartTimeout);\n                }\n                loadChartTimeout = $timeout(vm.loadChart, 550);\n            }\n\n            $scope.$watch(\"vm.data\", loadChartDelayed, true);\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('newscombinatorKeywords')\n        .controller('MainController', MainController);\n\n    /** @ngInject */\n    function MainController($filter) {\n        var vm = this;\n\n        vm.keywords = [];\n\n        vm.keywordTypes = [\n            {typeValue: \"general\", typeName: \"Any Document-Field\", prefix: \"\", postfix: \"\", type: \"text\"},\n            {typeValue: \"notGeneral\", typeName: \"Exclude Keyword\", prefix: \"-(\", postfix: \")\", type: \"text\"},\n            {typeValue: \"linkTitle\", typeName: \"Link Title\", prefix: \"title_link:\", postfix: \"\", type: \"text\"},\n            {typeValue: \"notLinkTitle\", typeName: \"Exclude Link Title\", prefix: \"-title_link:\", postfix: \"\", type: \"text\"},\n            {typeValue: \"language\", typeName: \"Language (e.g. en)\", prefix: \"language:\", postfix: \"\", type: \"text\"},\n            {\n                typeValue: \"found_weekdays_ss\",\n                typeName: \"Day of the Week (e.g. Sunday)\",\n                prefix: \"found_weekdays_ss:\",\n                postfix: \"\",\n                type: \"select\",\n                values: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n            }, {\n                typeValue: \"not_found_weekdays_ss\",\n                typeName: \"NOT at that Day of the Week\",\n                prefix: \"-found_weekdays_ss:\",\n                postfix: \"\",\n                type: \"select\",\n                values: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n            },\n            {\n                typeValue: \"found_hours_is\",\n                typeName: \"Hour of the Day (e.g. '14' for 2pm)\",\n                prefix: \"found_hours_is:\",\n                postfix: \"\",\n                type: \"select\",\n                values: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\n            },\n            {typeValue: \"url\", typeName: \"Url\", prefix: \"url:\", postfix: \"\", type: \"text\"},\n            {\n                typeValue: \"source\",\n                typeName: \"Source-Portal (e.g. reddit.com)\",\n                prefix: 'source_sites_ss:*',\n                postfix: '*',\n                type: \"text\",\n                values: [\"ycombinator.com\", \"reddit.com\", \"coinspotting.com\", \"firespotting.com\", \"sec.gov\", \"lobste.rs\", \"makerland.org\", \"slashdot.org\", \"soylendnews.org\"]\n            },\n            {\n                typeValue: \"notSource\",\n                typeName: \"Exclude Source-Portal\",\n                prefix: '-source_sites_ss:*',\n                postfix: '*',\n                type: \"text\"\n            },\n            {\n                typeValue: \"minPoints\",\n                typeName: \"Min Upvotes\",\n                prefix: \"num_total_points:[\",\n                postfix: \" TO *]\",\n                type: \"slider\",\n                step: 5,\n                min: 0,\n                max: 1000\n            },\n            {\n                typeValue: \"maxPoints\",\n                typeName: \"Max Upvotes\",\n                prefix: \"num_total_points:[* TO \",\n                postfix: \"]\",\n                type: \"slider\",\n                step: 5,\n                min: 0,\n                max: 1000\n            },\n            {\n                typeValue: \"startDate\",\n                typeName: \"Start Date\",\n                prefix: \"created_at:[\",\n                postfix: \" TO *]\",\n                type: \"datepicker\"\n            },\n            {\n                typeValue: \"endDate\",\n                typeName: \"End Date\",\n                prefix: \"created_at:[* TO \",\n                postfix: \" ]\",\n                type: \"datepicker\"\n            }\n\n        ];\n        vm.directivedata = {\n            keywords: vm.keywords,\n            keywordTypes: vm.keywordTypes\n        };\n\n        vm.examplePickupRate = function () {\n\n            vm.keywords.push({\n                type: $filter(\"filter\")(vm.keywordTypes, {typeValue: 'source'})[0],\n                keyword: \"https://news.ycombinator.com\"\n            });\n            vm.keywords.push({\n                type: $filter(\"filter\")(vm.keywordTypes, {typeValue: 'linkTitle'})[0],\n                keyword: \"Keyword Analytics\"\n            });\n            vm.keywords.push({\n                type: $filter(\"filter\")(vm.keywordTypes, {typeValue: 'startDate'})[0],\n                date: new Date(2016,2,1)\n            });\n\n        };\n\n\n        vm.addKeyword = function () {\n            vm.keywords.push({type: vm.keywordTypes[0], keyword: \"\"});\n        };\n\n\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('newscombinatorKeywords')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, $mdThemingProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n    $mdThemingProvider.theme('default');\n  }\n\n})();\n\nangular.module(\"newscombinatorKeywords\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div layout=\\\"column\\\"><header><acme-navbar></acme-navbar></header><div layout=\\\"column\\\" layout-padding=\\\"\\\"><div layout=\\\"row\\\"><div flex-offset=\\\"25\\\" flex=\\\"50\\\"><h3>Introduction</h3><p>The tool below shows different statistics about all the indexed links from <a href=\\\"http://www.newscombinator.com\\\">The Newscombinator</a>. We are indexing in realtime whatever comes in from ycombinator, reddit, inbound, etc. Times are in UTC.<br><br>What is the tool useful for? <button ng-click=\\\"main.examplePickupRate()\\\">Click here for example</button>, when you want to know the best pickup rate for a submission on YC. Or run any other arbitrary statistics with submitted links.<br><br><br><br><br></p></div></div><form ng-submit=\\\"main.loadChart();\\\" flex=\\\"\\\"><div layout=\\\"column\\\"><div layout=\\\"row\\\" layout-fill=\\\"\\\" layout-align=\\\"center center\\\" ng-repeat=\\\"keywordObj in main.keywords\\\"><md-button type=\\\"button\\\" class=\\\"md-icon-button md-primary\\\" ng-click=\\\"main.keywords.splice($index,1); main.loadChart();\\\"><md-icon>clear</md-icon></md-button><md-input-container flex=\\\"20\\\"><label>Type</label><md-select ng-model=\\\"keywordObj.type\\\"><md-option ng-value=\\\"type\\\" ng-repeat=\\\"type in main.keywordTypes\\\">{{type.typeName}}</md-option></md-select></md-input-container><md-input-container flex=\\\"\\\" ng-show=\\\"keywordObj.type.type == \\'select\\'\\\"><label>Select a Value</label><md-select ng-model=\\\"keywordObj.keyword\\\"><md-option ng-repeat=\\\"value in keywordObj.type.values\\\" value=\\\"{{value}}\\\">{{value}}</md-option></md-select></md-input-container><md-input-container flex=\\\"\\\" ng-show=\\\"keywordObj.type.type == \\'text\\'\\\"><label>One Keyword at a Time (e.g. *google.com* or Elon Musk)</label> <input name=\\\"url\\\" ng-model=\\\"keywordObj.keyword\\\"></md-input-container><md-input-container flex=\\\"\\\" ng-show=\\\"keywordObj.type.type == \\'datepicker\\'\\\"><div flex=\\\"\\\" layout=\\\"\\\" layout-align=\\\"end center\\\"><span class=\\\"md-body-1\\\">Choose a Date</span></div><md-datepicker ng-model=\\\"keywordObj.date\\\" md-placeholder=\\\"Choose a Date\\\" aria-label=\\\"Choose a Date\\\"></md-datepicker></md-input-container><div flex=\\\"\\\" ng-show=\\\"keywordObj.type.type == \\'slider\\'\\\" layout-padding=\\\"50 0\\\" layout=\\\"\\\" layout-align=\\\"center center\\\"><md-slider aria-label=\\\"{{type.typeName}}\\\" flex=\\\"\\\" md-discrete=\\\"\\\" ng-model=\\\"keywordObj.keyword\\\" step=\\\"{{keywordObj.type.step}}\\\" min=\\\"{{keywordObj.type.min}}\\\" max=\\\"{{keywordObj.type.max}}\\\" ng-change=\\\"main.loadChart()\\\"></md-slider></div></div><div layout=\\\"row\\\" layout-fill=\\\"\\\" layout-wrap=\\\"\\\"><div layout=\\\"row\\\" flex=\\\"\\\"><md-button type=\\\"button\\\" class=\\\"md-primary md-raised\\\" ng-click=\\\"main.addKeyword();\\\" flex=\\\"\\\"><md-icon>add</md-icon>Add Search Criteria.</md-button></div></div></div></form><div layout=\\\"row\\\" layout-padding=\\\"\\\"><date-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></date-chart><source-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></source-chart></div><div layout=\\\"row\\\" layout-padding=\\\"\\\"><weekday-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></weekday-chart><hours-pickup-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></hours-pickup-chart></div><div layout=\\\"row\\\" layout-padding=\\\"\\\"><documents-per-points-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></documents-per-points-chart><documents-on-frontpage-chart flex=\\\"\\\" data=\\\"main.directivedata\\\"></documents-on-frontpage-chart></div><div layout=\\\"column\\\" layout-padding=\\\"\\\" layout-margin=\\\"\\\"><keywords-table flex=\\\"\\\" data=\\\"main.directivedata\\\"></keywords-table></div></div></div>\");\n$templateCache.put(\"app/components/keywordstable/keywordstable.html\",\"<div layout=\\\"row\\\"><div flex=\\\"\\\" layout=\\\"column\\\"><h2>Top Keywords which made it to the Frontpage</h2><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.loading\\\"></md-progress-linear><md-card ng-repeat=\\\"result in vm.keywordsdata\\\" ng-hide=\\\"vm.loading\\\"><md-card-content><div layout=\\\"row\\\"><nvd3 options=\\\"vm.chartoptions\\\" data=\\\"result.chartdata\\\"></nvd3><div layout=\\\"column\\\"><a ng-click=\\\"vm.addKeyword(result.keyword.val);\\\" href=\\\"\\\"><h2>{{result.keyword.val}}</h2></a><p>{{result.keyword.count}} times in total<br>{{result.chartdata[0].y}} times {{result.chartdata[0].key}}<br>{{result.chartdata[1].y}} times {{result.chartdata[1].key}}</p></div></div></md-card-content></md-card></div><div flex=\\\"\\\" layout=\\\"column\\\"><h2>Keywords from documents not on the Frontpage</h2><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.loading\\\"></md-progress-linear><md-card ng-repeat=\\\"result in vm.keywordsdata_non_fp\\\" ng-hide=\\\"vm.loading\\\"><md-card-content><div layout=\\\"row\\\"><nvd3 options=\\\"vm.chartoptions\\\" data=\\\"result.chartdata\\\"></nvd3><div layout=\\\"column\\\"><a ng-click=\\\"vm.addKeyword(result.keyword.val);\\\" href=\\\"\\\"><h2>{{result.keyword.val}}</h2></a><p>{{result.keyword.count}} times in total<br>{{result.chartdata[0].y}} times {{result.chartdata[0].key}}<br>{{result.chartdata[1].y}} times {{result.chartdata[1].key}}</p></div></div></md-card-content></md-card></div></div><div layout=\\\"row\\\"><div flex=\\\"50\\\" layout=\\\"column\\\"><h2>Most upvoted Documents on Frontpage<md-icon>questionmark<md-tooltip md-direction=\\\"left\\\">Refresh</md-tooltip></md-icon></h2><md-card ng-repeat=\\\"result in vm.topResults\\\" ng-hide=\\\"vm.loading\\\"><md-card-content><h2>{{result.title_link}}</h2><p><a href=\\\"{{result.url}}\\\" target=\\\"_blank\\\">{{result.url}}</a></p><p>{{result.content_short}}</p></md-card-content><md-card-footer><small>Found: {{result.created_at | date:\\'short\\'}} &bull;<md-icon>arrow_drop_up</md-icon>{{result.num_total_points}} &bull;<md-icon>forum</md-icon>{{result.num_total_comments}}</small></md-card-footer></md-card><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.loading\\\"></md-progress-linear></div><div flex=\\\"50\\\" layout=\\\"column\\\"><h2>Most upvoted never on Frontpage</h2><md-card ng-repeat=\\\"result in vm.topResults_non_fp\\\" ng-hide=\\\"vm.loading\\\"><md-card-content><h2>{{result.title_link}}</h2><p><a href=\\\"{{result.url}}\\\" target=\\\"_blank\\\">{{result.url}}</a></p><p>{{result.content_short}}</p></md-card-content><md-card-footer><small>Found: {{result.created_at | date:\\'short\\'}} &bull;<md-icon>arrow_drop_up</md-icon>{{result.num_total_points}} &bull;<md-icon>forum</md-icon>{{result.num_total_comments}}</small></md-card-footer></md-card><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"vm.loading\\\"></md-progress-linear></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<md-toolbar layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button href=\\\"https://www.newscombinator.com\\\">Newscombinator Keywords</md-button></md-toolbar>\");}]);"],"sourceRoot":"/source/"}